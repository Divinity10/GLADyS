<div class="p-4 text-sm space-y-3">
    <!-- ID & Event ID (same row, 50%/50%) -->
    <div class="grid grid-cols-[1fr_1fr] gap-x-8 text-xs">
        <div>
            <span class="font-bold text-gray-400 uppercase">ID:</span>
            {% if detail.response_id %}
            <span class="font-mono text-gray-200 ml-1">{{ detail.response_id }}</span>
            {% else %}
            <span class="text-gray-500 ml-1">—</span>
            {% endif %}
        </div>
        <div>
            <span class="font-bold text-gray-400 uppercase">Event ID:</span>
            <span class="text-blue-400 hover:text-blue-300 hover:underline cursor-pointer font-mono ml-1"
                  @click="$dispatch('switch-tab', { tab: 'lab', filter: 'search', value: '{{ detail.event_id }}' })">
                {{ detail.event_id }}
            </span>
        </div>
    </div>

    <!-- Heuristic ID (clickable link to Heuristics tab) -->
    <div class="grid grid-cols-[80px_1fr] gap-2 items-center">
        <span class="text-xs font-bold text-gray-500 uppercase">Heuristic:</span>
        {% if detail.matched_heuristic_id %}
        <span class="text-blue-400 hover:text-blue-300 hover:underline cursor-pointer font-mono text-xs"
              @click="$dispatch('switch-tab', { tab: 'heuristics', filter: 'id', value: '{{ detail.matched_heuristic_id }}' })">
            {{ detail.matched_heuristic_id }}
        </span>
        {% else %}
        <span class="text-gray-500 text-xs">—</span>
        {% endif %}
    </div>

    <!-- Event Text -->
    <div class="grid grid-cols-[80px_1fr] gap-2 items-start">
        <span class="text-xs font-bold text-gray-500 uppercase pt-1">Event:</span>
        <div class="font-mono text-gray-200 bg-gray-800 p-2 rounded border border-gray-700 whitespace-pre-wrap">{{ detail.raw_text }}</div>
    </div>

    <!-- Prompt Row (only if LLM prompt exists) -->
    {% if detail.llm_prompt_text %}
    <div class="grid grid-cols-[80px_1fr] gap-2 items-start">
        <span class="text-xs font-bold text-gray-500 uppercase pt-1">Prompt:</span>
        <div class="font-mono text-xs text-gray-300 bg-gray-900 p-2 rounded border border-gray-700 whitespace-pre-wrap max-h-32 overflow-y-auto">{{ detail.llm_prompt_text }}</div>
    </div>
    {% endif %}

    <!-- Response Row -->
    <div class="grid grid-cols-[80px_1fr] gap-2 items-start">
        <span class="text-xs font-bold text-gray-500 uppercase pt-1">Response:</span>
        {% if detail.response_text %}
            <div class="text-gray-200 bg-gray-800 p-2 rounded border border-gray-700 whitespace-pre-wrap">{{ detail.response_text }}</div>
        {% else %}
            <span class="text-gray-500 italic pt-1">(no response)</span>
        {% endif %}
    </div>

    <!-- Outcome Row (only if fire_id exists) -->
    {% if detail.fire_id %}
    <div class="grid grid-cols-[80px_1fr] gap-2 items-start">
        <span class="text-xs font-bold text-gray-500 uppercase pt-1">Outcome:</span>
        <div class="pt-1">
            {% if detail.outcome == 'success' %}
                <span class="text-green-400 font-bold">Success</span>
            {% elif detail.outcome == 'fail' %}
                <span class="text-red-400 font-bold">Fail</span>
            {% else %}
                <span class="text-gray-400">Unknown</span>
            {% endif %}
            {% if detail.feedback_source %}
            <span class="text-gray-500 text-xs ml-2">({{ detail.feedback_source }})</span>
            {% endif %}
        </div>
    </div>
    {% endif %}
</div>
