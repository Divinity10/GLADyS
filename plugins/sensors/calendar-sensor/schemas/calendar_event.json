{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CalendarEvent",
  "description": "Schema for calendar event data emitted by the calendar sensor",
  "type": "object",
  "properties": {
    "event_id": {
      "type": "string",
      "description": "Unique identifier for the calendar event"
    },
    "summary": {
      "type": "string",
      "description": "Event title/summary"
    },
    "start_time": {
      "type": "string",
      "format": "date-time",
      "description": "Event start time in ISO 8601 format"
    },
    "end_time": {
      "type": "string",
      "format": "date-time",
      "description": "Event end time in ISO 8601 format"
    },
    "location": {
      "type": "string",
      "description": "Event location (physical or virtual)"
    },
    "organizer": {
      "type": "string",
      "description": "Event organizer name or email"
    },
    "attendees": {
      "type": "array",
      "items": {"type": "string"},
      "description": "List of attendee names or emails"
    },
    "is_all_day": {
      "type": "boolean",
      "description": "Whether this is an all-day event"
    },
    "minutes_until_start": {
      "type": "integer",
      "description": "Minutes until the event starts (negative if already started)"
    },
    "notification_type": {
      "type": "string",
      "enum": ["upcoming", "starting_soon", "started", "ending_soon"],
      "description": "Type of notification being sent"
    }
  },
  "required": ["event_id", "summary", "start_time", "notification_type"]
}
